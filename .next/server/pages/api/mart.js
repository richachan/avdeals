"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/mart";
exports.ids = ["pages/api/mart"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "puppeteer":
/*!****************************!*\
  !*** external "puppeteer" ***!
  \****************************/
/***/ ((module) => {

module.exports = import("puppeteer");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fmart&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cmart.ts&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fmart&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cmart.ts&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_mart_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\mart.ts */ \"(api)/./src/pages/api/mart.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_mart_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_mart_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_mart_ts__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_mart_ts__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/mart\",\n        pathname: \"/api/mart\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _src_pages_api_mart_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRm1hcnQmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlNUNwYWdlcyU1Q2FwaSU1Q21hcnQudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ0U7QUFDMUQ7QUFDdUQ7QUFDdkQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLG1EQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxtREFBUTtBQUNwQztBQUNPLHdCQUF3Qix5R0FBbUI7QUFDbEQ7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3NyY1xcXFxwYWdlc1xcXFxhcGlcXFxcbWFydC50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCAnZGVmYXVsdCcpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgJ2NvbmZpZycpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvbWFydFwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL21hcnRcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiAnJyxcbiAgICAgICAgZmlsZW5hbWU6ICcnXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fmart&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cmart.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/pages/api/mart.ts":
/*!*******************************!*\
  !*** ./src/pages/api/mart.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var puppeteer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! puppeteer */ \"puppeteer\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([puppeteer__WEBPACK_IMPORTED_MODULE_0__]);\npuppeteer__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n//Cache to store and return the same results for the same query\nconst cache = new Map;\n//clear cache every hour\nsetInterval(()=>{\n    console.log('Clearing the cache...');\n    cache.clear();\n}, 3600000);\nasync function handler(req, res) {\n    const { query } = req.query;\n    //Ensure the query is valid\n    if (typeof query !== 'string' || query.trim() === '') {\n        return res.status(400).json({\n            error: 'Invalid query'\n        });\n    }\n    if (cache.has(query)) {\n        console.log(`Query match in cache!: ${query}`);\n        return res.status(200).json(cache.get(query)); //Return cached result\n    }\n    const searchUrl = `https://www.usaudiomart.com/search.php?show_other_marts=N&show_msrp=N&keywords=${encodeURIComponent(query)}&type=ALL+SALE+ADS&type=ALL+SALE+ADS&cat_id=&price_min=&price_max=&province=&titlesearch=on&zipcode=&radius=100`;\n    const browser = await puppeteer__WEBPACK_IMPORTED_MODULE_0__[\"default\"].launch({\n        headless: true,\n        args: [\n            '--no-sandbox',\n            '--disable-setuid-sandbox',\n            '--disable-blink-features=AutomationControlled'\n        ]\n    });\n    const page = await browser.newPage();\n    //Spoofer\n    await page.evaluateOnNewDocument(()=>{\n        Object.defineProperty(navigator, 'webdriver', {\n            get: ()=>false\n        });\n    });\n    //Foo plugins\n    await page.evaluateOnNewDocument(()=>{\n        Object.defineProperty(navigator, 'plugins', {\n            get: ()=>[\n                    1,\n                    2,\n                    3\n                ]\n        });\n    });\n    await page.setViewport({\n        width: 1280,\n        height: 720\n    });\n    await page.setUserAgent('Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36');\n    try {\n        await page.goto(searchUrl, {\n            waitUntil: 'domcontentloaded'\n        });\n        const html = await page.content();\n        // Check for no listings\n        const elementExists = await page.$$('table.adverttable tbody tr.ad');\n        if (elementExists.length === 0) {\n            console.log('No elements found with the selector \"table.adverttable tbody tr.ad\". (US Audio Mart)');\n            await browser.close();\n            return res.status(200).json([]);\n        }\n        await page.waitForSelector('table.adverttable tbody tr.ad'); // Ensure the listings are loaded\n        //Grab all listing links and prices on the search results page\n        const listingsFromSearch = await page.evaluate(()=>{\n            const listings = [];\n            const items = document.querySelectorAll('.ad');\n            items.forEach((item)=>{\n                const titleElement = item.querySelector('.ad a');\n                const priceElement = item.querySelector('.rightCell');\n                const title = titleElement ? titleElement.textContent?.trim() : '';\n                const link = titleElement ? titleElement.getAttribute('href') : '';\n                const price = priceElement ? priceElement.textContent?.trim() : null;\n                const site = 'usaudiomart';\n                if (title) {\n                    const normalizedTitle = title.toUpperCase();\n                    if (!normalizedTitle.includes('SOLD')) {\n                        listings.push({\n                            title,\n                            link,\n                            price,\n                            site\n                        });\n                    }\n                }\n            });\n            return listings;\n            page.close();\n        });\n        cache.set(query, listingsFromSearch);\n        res.status(200).json(listingsFromSearch);\n    } catch (error) {\n        console.error('Scraping error:', error);\n        await browser.close();\n        res.status(500).json({\n            error: 'Failed to retrieve listings'\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUksQ0FBQ0QsZ0JBQWdCRSxRQUFRLENBQUMsU0FBUzt3QkFDbkNqQixTQUFTa0IsSUFBSSxDQUFDOzRCQUFFVDs0QkFBT0U7NEJBQU1FOzRCQUFPQzt3QkFBSztvQkFDN0M7Z0JBQ0o7WUFDSjtZQUNBLE9BQU9kO1lBQ1ByQixLQUFLaUIsS0FBSztRQUNkO1FBQ0F2QyxNQUFNOEQsR0FBRyxDQUFDckQsT0FBT2dDO1FBRWpCakMsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQzZCO0lBQ3pCLEVBQ0EsT0FBTzVCLE9BQU87UUFDVlYsUUFBUVUsS0FBSyxDQUFDLG1CQUFtQkE7UUFDakMsTUFBTUssUUFBUXFCLEtBQUs7UUFDbkIvQixJQUFJRyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBOEI7SUFDaEU7QUFDSiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxqdGMtc3RhZmZcXERlc2t0b3BcXGF2ZGVhbHNcXHNyY1xccGFnZXNcXGFwaVxcbWFydC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XHJcbmltcG9ydCBwdXBwZXRlZXIgZnJvbSAncHVwcGV0ZWVyJztcclxuXHJcbi8vQ2FjaGUgdG8gc3RvcmUgYW5kIHJldHVybiB0aGUgc2FtZSByZXN1bHRzIGZvciB0aGUgc2FtZSBxdWVyeVxyXG5jb25zdCBjYWNoZSA9IG5ldyBNYXA7XHJcblxyXG4vL2NsZWFyIGNhY2hlIGV2ZXJ5IGhvdXJcclxuc2V0SW50ZXJ2YWwoKCkgPT4gXHJcbntcclxuICAgIGNvbnNvbGUubG9nKCdDbGVhcmluZyB0aGUgY2FjaGUuLi4nKTtcclxuICAgIGNhY2hlLmNsZWFyKCk7XHJcbn1cclxuLCAzNjAwMDAwKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIFxyXG57XHJcbiAgICBjb25zdCB7IHF1ZXJ5IH0gPSByZXEucXVlcnk7XHJcblxyXG4gICAgLy9FbnN1cmUgdGhlIHF1ZXJ5IGlzIHZhbGlkXHJcbiAgICBpZiAodHlwZW9mIHF1ZXJ5ICE9PSAnc3RyaW5nJyB8fCBxdWVyeS50cmltKCkgPT09ICcnKSBcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgcXVlcnknIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjYWNoZS5oYXMocXVlcnkpKSBcclxuICAgIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgUXVlcnkgbWF0Y2ggaW4gY2FjaGUhOiAke3F1ZXJ5fWApO1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihjYWNoZS5nZXQocXVlcnkpKTsgLy9SZXR1cm4gY2FjaGVkIHJlc3VsdFxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNlYXJjaFVybCA9IGBodHRwczovL3d3dy51c2F1ZGlvbWFydC5jb20vc2VhcmNoLnBocD9zaG93X290aGVyX21hcnRzPU4mc2hvd19tc3JwPU4ma2V5d29yZHM9JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnkpfSZ0eXBlPUFMTCtTQUxFK0FEUyZ0eXBlPUFMTCtTQUxFK0FEUyZjYXRfaWQ9JnByaWNlX21pbj0mcHJpY2VfbWF4PSZwcm92aW5jZT0mdGl0bGVzZWFyY2g9b24memlwY29kZT0mcmFkaXVzPTEwMGA7XHJcbiAgICBjb25zdCBicm93c2VyID0gYXdhaXQgcHVwcGV0ZWVyLmxhdW5jaCh7IFxyXG4gICAgICAgIGhlYWRsZXNzOiB0cnVlLFxyXG4gICAgICAgIGFyZ3M6IFtcclxuICAgICAgICAgICAgJy0tbm8tc2FuZGJveCcsXHJcbiAgICAgICAgICAgICctLWRpc2FibGUtc2V0dWlkLXNhbmRib3gnLFxyXG4gICAgICAgICAgICAnLS1kaXNhYmxlLWJsaW5rLWZlYXR1cmVzPUF1dG9tYXRpb25Db250cm9sbGVkJyxcclxuICAgICAgICBdLFxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCBicm93c2VyLm5ld1BhZ2UoKTtcclxuICAgIFxyXG4gICAgLy9TcG9vZmVyXHJcbiAgICBhd2FpdCBwYWdlLmV2YWx1YXRlT25OZXdEb2N1bWVudCgoKSA9PiB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5hdmlnYXRvciwgJ3dlYmRyaXZlcicsIHsgZ2V0OiAoKSA9PiBmYWxzZSB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vRm9vIHBsdWdpbnNcclxuICAgIGF3YWl0IHBhZ2UuZXZhbHVhdGVPbk5ld0RvY3VtZW50KCgpID0+IHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmF2aWdhdG9yLCAncGx1Z2lucycsIHtcclxuICAgICAgICAgICAgZ2V0OiAoKSA9PiBbMSwgMiwgM10sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIGF3YWl0IHBhZ2Uuc2V0Vmlld3BvcnQoeyB3aWR0aDogMTI4MCwgaGVpZ2h0OiA3MjAgfSk7XHJcbiAgICBhd2FpdCBwYWdlLnNldFVzZXJBZ2VudChcclxuICAgICAgICAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzkxLjAuNDQ3Mi4xMjQgU2FmYXJpLzUzNy4zNidcclxuICAgICk7XHJcbiAgICBcclxuICAgIHRyeSBcclxuICAgIHtcclxuICAgICAgICBhd2FpdCBwYWdlLmdvdG8oc2VhcmNoVXJsLCB7IHdhaXRVbnRpbDogJ2RvbWNvbnRlbnRsb2FkZWQnIH0pO1xyXG4gICAgICAgIGNvbnN0IGh0bWwgPSBhd2FpdCBwYWdlLmNvbnRlbnQoKTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIG5vIGxpc3RpbmdzXHJcbiAgICAgICAgY29uc3QgZWxlbWVudEV4aXN0cyA9IGF3YWl0IHBhZ2UuJCQoJ3RhYmxlLmFkdmVydHRhYmxlIHRib2R5IHRyLmFkJyk7IFxyXG4gICAgICAgIGlmIChlbGVtZW50RXhpc3RzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gZWxlbWVudHMgZm91bmQgd2l0aCB0aGUgc2VsZWN0b3IgXCJ0YWJsZS5hZHZlcnR0YWJsZSB0Ym9keSB0ci5hZFwiLiAoVVMgQXVkaW8gTWFydCknKTtcclxuICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5jbG9zZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oW10pOyBcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgYXdhaXQgcGFnZS53YWl0Rm9yU2VsZWN0b3IoJ3RhYmxlLmFkdmVydHRhYmxlIHRib2R5IHRyLmFkJyk7IC8vIEVuc3VyZSB0aGUgbGlzdGluZ3MgYXJlIGxvYWRlZFxyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICAvL0dyYWIgYWxsIGxpc3RpbmcgbGlua3MgYW5kIHByaWNlcyBvbiB0aGUgc2VhcmNoIHJlc3VsdHMgcGFnZVxyXG4gICAgICAgIGNvbnN0IGxpc3RpbmdzRnJvbVNlYXJjaCA9IGF3YWl0IHBhZ2UuZXZhbHVhdGUoKCkgPT5cclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgbGlzdGluZ3MgPSBbXTtcclxuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWQnKTtcclxuXHJcbiAgICAgICAgICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZUVsZW1lbnQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5hZCBhJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcmljZUVsZW1lbnQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5yaWdodENlbGwnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZSA9IHRpdGxlRWxlbWVudCA/IHRpdGxlRWxlbWVudC50ZXh0Q29udGVudD8udHJpbSgpIDogJyc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gdGl0bGVFbGVtZW50ID8gdGl0bGVFbGVtZW50LmdldEF0dHJpYnV0ZSgnaHJlZicpIDogJyc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcmljZSA9IHByaWNlRWxlbWVudCA/IHByaWNlRWxlbWVudC50ZXh0Q29udGVudD8udHJpbSgpIDogbnVsbDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNpdGUgPSAndXNhdWRpb21hcnQnO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKHRpdGxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFRpdGxlID0gdGl0bGUudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW5vcm1hbGl6ZWRUaXRsZS5pbmNsdWRlcygnU09MRCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RpbmdzLnB1c2goeyB0aXRsZSwgbGluaywgcHJpY2UsIHNpdGUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGxpc3RpbmdzO1xyXG4gICAgICAgICAgICBwYWdlLmNsb3NlKCk7XHJcbiAgICAgICAgfSk7IFxyXG4gICAgICAgIGNhY2hlLnNldChxdWVyeSwgbGlzdGluZ3NGcm9tU2VhcmNoKTtcclxuICAgICAgICBcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihsaXN0aW5nc0Zyb21TZWFyY2gpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignU2NyYXBpbmcgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgIGF3YWl0IGJyb3dzZXIuY2xvc2UoKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIHJldHJpZXZlIGxpc3RpbmdzJyB9KTtcclxuICAgIH1cclxufVxyXG4iXSwibmFtZXMiOlsicHVwcGV0ZWVyIiwiY2FjaGUiLCJNYXAiLCJzZXRJbnRlcnZhbCIsImNvbnNvbGUiLCJsb2ciLCJjbGVhciIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJxdWVyeSIsInRyaW0iLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJoYXMiLCJnZXQiLCJzZWFyY2hVcmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJicm93c2VyIiwibGF1bmNoIiwiaGVhZGxlc3MiLCJhcmdzIiwicGFnZSIsIm5ld1BhZ2UiLCJldmFsdWF0ZU9uTmV3RG9jdW1lbnQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIm5hdmlnYXRvciIsInNldFZpZXdwb3J0Iiwid2lkdGgiLCJoZWlnaHQiLCJzZXRVc2VyQWdlbnQiLCJnb3RvIiwid2FpdFVudGlsIiwiaHRtbCIsImNvbnRlbnQiLCJlbGVtZW50RXhpc3RzIiwiJCQiLCJsZW5ndGgiLCJjbG9zZSIsIndhaXRGb3JTZWxlY3RvciIsImxpc3RpbmdzRnJvbVNlYXJjaCIsImV2YWx1YXRlIiwibGlzdGluZ3MiLCJpdGVtcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJpdGVtIiwidGl0bGVFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsInByaWNlRWxlbWVudCIsInRpdGxlIiwidGV4dENvbnRlbnQiLCJsaW5rIiwiZ2V0QXR0cmlidXRlIiwicHJpY2UiLCJzaXRlIiwibm9ybWFsaXplZFRpdGxlIiwidG9VcHBlckNhc2UiLCJpbmNsdWRlcyIsInB1c2giLCJzZXQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/mart.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fmart&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cmart.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();